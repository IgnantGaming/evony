<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>[EVENTS] UWS 898 Evony</title>
    <link rel="stylesheet" type="text/css" href="style/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th, td {
        border: 1px solid black;
        padding: 5px;
        text-align: center;
      }
      th {
        background-color: lightgray;
      }
      .current-month {
        background-color: lightblue;
      }
      .next-month {
        background-color: lightgray;
      }
    </style>
  </head>
  <body>
    <div class="topPane">
        <h1> United We Stand 898 - Evony TKR </h1>
    </div>
    
    <div class="topnav"> 
        <ahref="home.html">Home</a>
        <a href="svs.html">SvS</a>  
        <a class="Active" href="#events">Events</a>
    </div>
          
    <div class="body">
    <h1>Calendar</h1>
    <table id="calendar">
      <thead>
        <tr>
          <th>Sun</th>
          <th>Mon</th>
          <th>Tue</th>
          <th>Wed</th>
          <th>Thu</th>
          <th>Fri</th>
          <th>Sat</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    
    <script>
      // Define the starting date as today
      var startDate = new Date();
      var year = startDate.getFullYear();
      var month = startDate.getMonth();
      
      // Retrieve data from the JSON file
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          var data = JSON.parse(xhr.responseText);
          // Loop through the next 3 months
          for (var i = 0; i < 3; i++) {
            // Create a new row for each week
            var tbody = document.querySelector("#calendar tbody");
            var row = tbody.insertRow();
            // Loop through each day of the week
            for (var j = 0; j < 7; j++) {
              // Create a new cell for each day
              var cell = row.insertCell();
              cell.textContent = startDate.getDate();
              // Highlight the current month and next month cells
              if (startDate.getMonth() == month) {
                cell.classList.add("current-month");
              } else {
                cell.classList.add("next-month");
              }
              // Add data from the JSON file if available
              if (data[year] && data[year][month + 1] && data[year][month + 1][startDate.getDate()]) {
                cell.title = data[year][month + 1][startDate.getDate()];
              }
              // Increment the date
              startDate.setDate(startDate.getDate() + 1);
            }
          }
        }
      };
      xhr.open("GET", "data.json", true);
      xhr.send();
    </script>
      </div>
</body>
<footer> 
  <div class="text-center p-3">
    IgnantGaming LLC.
  </div>
</footer>
</html>
